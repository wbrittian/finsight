{% extends "base.html" %}
{% block title %}Gemini Chat{% endblock %}

{% block content %}
<h1>Gemini Chatbot</h1>
<div id="chat-box"></div>
<input type="text" id="user-input" placeholder="Say something...">
<button onclick="sendMessage()">Send</button>

<script>
    async function sendMessage() {
        const userInput = document.getElementById("user-input").value;
        const response = await fetch("/chat", {
            method: "POST",
            headers: {"Content-Type": "application/json"},
            body: JSON.stringify({ message: userInput })
        });
        const data = await response.json();
        const chatBox = document.getElementById("chat-box");
        chatBox.innerHTML += `<p><strong>You:</strong> ${userInput}</p>`;
        chatBox.innerHTML += `<p><strong>Bot:</strong> ${data.response}</p>`;
        document.getElementById("user-input").value = "";
    }
</script>
{% endblock %}